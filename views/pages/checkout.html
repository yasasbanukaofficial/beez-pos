<div class="text-white d-flex flex-column gap-5 pt-lg-4">
  <!-- Header -->
  <div class="d-flex flex-row justify-content-between align-items-center pe-3">
    <div class="d-flex flex-row align-items-center">
      <button
        class="btn d-lg-none border-none shadow-none p-0 pe-2 py-2"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasNav"
        aria-controls="offcanvasNav"
      >
        <i class="fa-solid fa-bars fa-xl" style="color: white"></i>
      </button>
      <h4 class="fw-bold text-white fs-4 m-0 pt-lg-1">Orders</h4>
    </div>
    <p class="text-muted d-none d-lg-inline d-md-inline" id="dateDisplay">
      Wednesday, 28 May 2025 â€¢ 4.48 PM
    </p>
  </div>

  <!-- Filter Tabs -->
  <div class="d-flex flex-row align-items-center gap-3 pe-3">
    <button
      class="btn btn-light text-dark fw-semibold px-4 py-2 rounded-3 filter-btn"
      data-status="All"
    >
      All
    </button>
    <button
      class="btn btn-outline-secondary text-white px-4 py-2 rounded-3 filter-btn"
      data-status="In Process"
    >
      In Process
    </button>
    <button
      class="btn btn-outline-secondary text-white px-4 py-2 rounded-3 filter-btn"
      data-status="Paid"
    >
      Completed
    </button>
    <button
      class="btn btn-outline-secondary text-white px-4 py-2 rounded-3 filter-btn"
      data-status="Not Paid"
    >
      Cancelled
    </button>

    <div class="ms-auto d-flex flex-row align-items-center gap-3">
      <button
        class="btn rounded-pill fw-semibold px-4 py-2 text-dark border-0"
        style="background-color: #c9caee"
        id="addOrderBtn"
        data-bs-toggle="modal"
        data-bs-target="#orderDetailsModal"
      >
        Add an Order
      </button>

      <div class="position-relative">
        <input
          type="text"
          class="form-control bg-dark text-white rounded-3 ps-3 pe-5 py-3 border-0"
          placeholder="Search an Order"
          aria-label="Search an Order"
          id="searchOrderInput"
        />
        <button
          class="position-absolute top-50 end-0 translate-middle-y me-1 border-0 bg-dark"
          type="button"
        >
          <i
            class="fa-solid fa-magnifying-glass px-2"
            style="background-color: transparent; color: #3d4142"
          ></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Order Cards -->
  <div class="row g-4 pe-lg-4" id="orderCardWrapper"></div>

  <!-- MODERN ORDER DETAILS MODAL -->
  <div
    class="modal fade"
    id="orderDetailsModal"
    tabindex="-1"
    aria-labelledby="orderDetailsModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div
        class="modal-content bg-dark text-white rounded-3 shadow-lg p-3"
        style="max-width: 480px; margin: auto"
      >
        <div class="modal-header border-0">
          <div>
            <h5 class="modal-title fw-bold mb-0" id="orderDetailsModalLabel">
              Order
            </h5>
            <div class="small text-muted" id="modalCustomerName">Customer</div>
          </div>
          <button
            type="button"
            id="editOrderBtn"
            class="btn btn-sm border-0 text-white ms-auto"
          >
            <i class="fa-solid fa-pen"></i>
          </button>
        </div>

        <div class="modal-body pt-0 px-3 pb-3">
          <!-- Customer Selection -->
          <div class="mb-3">
            <label class="form-label text-muted small">Select Customer</label>
            <div class="d-flex gap-2">
              <select
                class="form-select bg-dark text-white border-secondary"
                id="customerSelect"
              ></select>
              <button
                class="btn btn-outline-light"
                id="addCustomerBtn"
                data-bs-toggle="modal"
                data-bs-target="#addCustomerModal"
              >
                <i class="fa-solid fa-user-plus"></i>
              </button>
            </div>
          </div>

          <!-- Item Selection Modernized -->
          <div class="mb-3">
            <label class="form-label text-muted small">Select Items</label>
            <div class="dropdown">
              <button
                class="btn btn-dark w-100 text-start dropdown-toggle border-secondary"
                type="button"
                id="itemDropdownButton"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Select Items
              </button>
              <div
                class="dropdown-menu w-100 bg-dark p-2 border-secondary"
                id="itemDropdownMenu"
                style="max-height: 200px; overflow-y: auto"
              >
                <!-- Populated dynamically via JS -->
              </div>
            </div>
          </div>

          <!-- Cart / Selected Items -->
          <div id="modalItemsList" class="d-flex flex-column gap-2 mb-4">
            <!-- Dynamically populated rows with item name, qty, price and remove button -->
          </div>

          <!-- Totals -->
          <div class="rounded-3 p-3 mb-4" style="background-color: #2a2c2d">
            <div class="d-flex justify-content-between small text-muted mb-3">
              <div>Subtotal</div>
              <div id="modalSubtotal">$0.00</div>
            </div>
            <div class="d-flex justify-content-between fw-semibold mb-2">
              <div>Total</div>
              <div id="modalTotal">$0.00</div>
            </div>
            <hr style="border-style: dashed; border-color: #3a3c3d" />
            <div class="d-flex justify-content-between small text-muted mt-2">
              <div>Received</div>
              <div id="modalReceived">$0.00</div>
            </div>
          </div>

          <!-- Order Status -->
          <div class="mb-3">
            <label class="form-label text-muted small">Order Status</label>
            <select
              id="orderStatusSelect"
              class="form-select bg-dark text-white border-secondary"
            ></select>
          </div>

          <!-- Payment Methods -->
          <p class="fw-semibold mb-2">Payment Method</p>
          <div
            class="d-flex justify-content-between mb-3 gap-2 flex-wrap"
            id="paymentMethodWrapper"
          >
            <button
              class="btn bg-transparent border text-white flex-fill d-flex align-items-center justify-content-center gap-2 py-3 payment-btn"
              data-method="Cash"
              style="border-color: #3a3c3d"
            >
              <i class="fa-solid fa-money-bill"></i><span>Cash</span>
            </button>
            <button
              class="btn bg-transparent border text-white flex-fill d-flex align-items-center justify-content-center gap-2 py-3 payment-btn"
              data-method="Debit"
              style="border-color: #3a3c3d"
            >
              <i class="fa-solid fa-credit-card"></i><span>Debit</span>
            </button>
            <button
              class="btn text-dark flex-fill d-flex align-items-center justify-content-center gap-2 py-3 border-0 payment-btn"
              data-method="Wallet"
              style="background-color: #c9caee"
            >
              <i class="fa-solid fa-wallet"></i><span>Wallet</span>
            </button>
          </div>

          <button
            id="saveOrderBtn"
            class="btn w-100 rounded-3 fw-semibold text-dark py-3"
            style="background-color: #c9caee"
          >
            Save Order
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- ADD CUSTOMER MODAL -->
  <div
    class="modal fade"
    id="addCustomerModal"
    tabindex="-1"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-dark text-white rounded-3 shadow-lg p-4">
        <h5 class="fw-bold mb-3">Add Customer</h5>
        <div class="mb-3">
          <label class="form-label small text-muted">Name</label>
          <input
            type="text"
            class="form-control bg-dark text-white border-secondary"
            id="newCustomerName"
          />
        </div>
        <div class="mb-3">
          <label class="form-label small text-muted">Email</label>
          <input
            type="email"
            class="form-control bg-dark text-white border-secondary"
            id="newCustomerEmail"
          />
        </div>
        <button class="btn btn-light text-dark w-100" id="saveCustomerBtn">
          Save Customer
        </button>
      </div>
    </div>
  </div>
</div>
